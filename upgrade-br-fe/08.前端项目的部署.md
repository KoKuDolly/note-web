
# vue-cli-3 官方文档

https://cli.vuejs.org/zh/guide/deployment.html

## GitHub Pages

### 手动推送更新

```sh
#!/usr/bin/env sh

# 当发生错误时中止脚本
set -e

# 构建
npm run build

# cd 到构建输出的目录下
cd dist

# 部署到自定义域域名
# echo 'www.example.com' > CNAME

git init
git add -A
git commit -m 'deploy'

# 部署到 https://<USERNAME>.github.io
# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master

# 部署到 https://<USERNAME>.github.io/<REPO>
# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages

cd -
```

### 使用 Travis CI 自动更新

>仿照上面在 vue.config.js 中设置正确的 publicPath。
>
>安装 Travis CLI 客户端：gem install travis && travis --login
>
>生成一个拥有“repo”权限的 GitHub 访问令牌。
>
>授予 Travis 访问仓库的权限：travis set GITHUB_TOKEN=xxx (xxx 是第三步中的个人访问令牌)
>
>在项目根目录下创建一个 .travis.yml 文件。

```sh
language: node_js
node_js:
  - "node"

cache: npm

script: npm run build

deploy:
provider: pages
skip_cleanup: true
github_token: $GITHUB_TOKEN
local_dir: dist
on:
  branch: master
```
